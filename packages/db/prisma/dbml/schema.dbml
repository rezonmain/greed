//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table Account {
  id String [pk]
  userId String [not null]
  type String [not null]
  provider String [not null]
  providerAccountId String [not null]
  refresh_token String
  access_token String
  expires_at Int
  token_type String
  scope String
  id_token String
  session_state String
  user User [not null]

  indexes {
    (provider, providerAccountId) [unique]
  }
}

Table Session {
  id String [pk]
  sessionToken String [unique, not null]
  userId String [not null]
  expires DateTime [not null]
  user User [not null]
}

Table User {
  id String [pk]
  name String
  email String [unique]
  emailVerified DateTime
  image String
  accounts Account [not null]
  sessions Session [not null]
  permission Permission [not null]
  wallets Wallet [not null]
  updateRequests UpdateRequest [not null]
  cells Cell [not null]
  grids Grid [not null]
  Approval Approval [not null]
}

Table VerificationToken {
  identifier String [not null]
  token String [unique, not null]
  expires DateTime [not null]

  indexes {
    (identifier, token) [unique]
  }
}

Table Grid {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  cells Cell [not null]
  GridMeta GridMeta [not null]
  gridMetaId String [unique, not null]
  permissions Permission [not null]
  updateRequests UpdateRequest [not null]
  user User [not null]
  userId String [not null]
}

Table GridMeta {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  grid Grid
  name String [not null]
  widthCells Int [not null]
  heightCells Int [not null]
}

Table Permission {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  grid Grid [not null]
  gridId String [not null]
  user User [not null]
  userId String [not null]
  permissions String [not null]
}

Table Content {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  cells Cell [not null]
  type String [not null]
  data String
  url String
}

Table Cell {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  grid Grid [not null]
  gridId String [not null]
  column Int [not null]
  row Int [not null]
  content Content [not null]
  contentId String [not null]
  user User [not null]
  userId String [not null]
  updateRequest UpdateRequest
  updateRequestId String
}

Table Wallet {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  address String [unique, not null]
  balance Float [not null]
  user User [not null]
  userId String [not null]
}

Table UpdateRequest {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  user User [not null]
  userId String [not null]
  grid Grid [not null]
  gridId String [not null]
  cells Cell [not null]
  approval Approval [not null]
  approvalId String [unique, not null]
}

Table Approval {
  id String [pk]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
  approved Boolean [not null, default: false]
  approvedAt DateTime
  user User
  userId String
  updateRequest UpdateRequest
}

Ref: Account.userId > User.id [delete: Cascade]

Ref: Session.userId > User.id [delete: Cascade]

Ref: Grid.gridMetaId - GridMeta.id [delete: Cascade]

Ref: Grid.userId > User.id [delete: Cascade]

Ref: Permission.gridId > Grid.id [delete: Cascade]

Ref: Permission.userId > User.id [delete: Cascade]

Ref: Cell.gridId > Grid.id [delete: Cascade]

Ref: Cell.contentId > Content.id

Ref: Cell.userId > User.id [delete: Cascade]

Ref: Cell.updateRequestId > UpdateRequest.id

Ref: Wallet.userId > User.id [delete: Cascade]

Ref: UpdateRequest.userId > User.id

Ref: UpdateRequest.gridId > Grid.id [delete: Cascade]

Ref: UpdateRequest.approvalId - Approval.id

Ref: Approval.userId > User.id